name: reuse_test

on:
  workflow_call:
    inputs:
      run-expression:
        required: false
        type: string
        default: v9
    secrets:
      token:
        required: true


jobs:
  run-tests:
    runs-on: ubuntu-latest
    timeout-minutes: 5
    steps:
      - name: Checkout Repo
        uses: actions/checkout@v2
        with:
          token: ${{ secrets.token }}

      - name: Test if version
        if: inputs.run-expression
        run: echo "version is ${{ inputs.run-expression }}"

      - name: Echo version
        if: ! inputs.run-expression
        run: echo "version is v10"

#      - name: Echo branch
#        run: |
#          echo ${{ github.ref }}
#          echo "===end==="

